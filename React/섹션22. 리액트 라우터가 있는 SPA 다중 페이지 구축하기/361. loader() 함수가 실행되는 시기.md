좋습니다!  
이번에도 요청하신 대로 **블로그 스타일**로,  
**명확하고 체계적인 흐름**으로 정리해드릴게요. ✍️🚀

---

# 🌟 [React Router 고급편] loader 함수는 정확히 언제 실행될까?

## ✨ 들어가며

지금까지 우리는  
**loader**를 사용해서 데이터를 미리 가져오고,  
컴포넌트에서는 그 데이터를 바로 사용하는 패턴을 배웠습니다.

그렇다면 질문 하나:

> **loader는 정확히 "언제" 실행될까요?**

이번 포스트에서는 이 동작 타이밍을 명확히 이해하고,  
앞으로 다룰 **로딩 중 상태 처리**의 기초를 다지겠습니다.

---

# 🚀 Step 1. loader는 '페이지 이동 시작' 순간 실행된다

**중요한 포인트**

✅ **페이지 컴포넌트가 렌더링된 "후"** 가 아닙니다.  
✅ **라우터가 경로 전환을 감지한 "즉시"** loader가 실행됩니다.

**정리**

> 사용자가 링크를 클릭하거나, 프로그램적으로 navigate() 호출하면  
> ➡️ 즉시 loader가 호출되고  
> ➡️ loader가 완료될 때까지 페이지 전환이 대기합니다.

---

# 🧩 Step 2. 실제 동작을 실험해보자

**실험 방법**

1. 백엔드 코드(events.js)에 `setTimeout` 추가
    
2. 응답을 1.5초 늦추기
    

**예시**

```javascript
setTimeout(() => {
  res.json({ events: DUMMY_EVENTS });
}, 1500);
```

✅ 이 코드를 넣으면, 서버는 요청을 받자마자 응답하지 않고  
✅ **1.5초 후에야** 데이터를 반환합니다.

---

# 🎬 Step 3. 실험 결과

1. 사용자가 `/events`로 이동하려고 할 때
    
2. 클릭한 직후 **화면은 그대로 유지**
    
3. 약 1.5초 후에야 페이지가 전환되고 이벤트 리스트가 보임
    

✅ 즉, **라우트 전환을 시작하자마자 loader가 실행**되고,  
✅ loader가 끝날 때까지 **라우터는 페이지 전환을 보류**합니다.

---

# 📚 Step 4. 이 방식의 장단점

|항목|장점|단점|
|:--|:--|:--|
|UX 관점|컴포넌트 렌더링 시점에 데이터가 완벽히 준비됨|데이터 로딩 중, 사용자는 "아무 일도 안 일어나는 것처럼" 느낄 수 있음|
|개발자 관점|컴포넌트에서 로딩 상태를 신경 쓸 필요 없음|페이지 전환이 느리게 보일 수 있음|
|코드 복잡도|useEffect, useState 불필요|로딩 UI 추가 필요|

---

# 🎯 Step 5. 왜 이 방식을 선택했을까?

React Router는 기본적으로 **"데이터가 준비되기 전까지 페이지를 렌더링하지 않는다"**는 원칙을 지킵니다.

✅ 사용자에게 불완전한 페이지를 먼저 보여주는 대신,  
✅ 완전히 준비된 페이지를 한번에 보여주는 걸 선호합니다.

> "항상 준비된 데이터를 가진 완성된 페이지를 보여준다."

하지만,  
✅ 대기 시간이 너무 길어질 경우,  
✅ 사용자에게 **'아무 일도 일어나지 않는 것처럼 보이는 문제'** 가 생길 수 있죠.

그래서 React Router는 이런 상황을 해결하기 위한  
**추가적인 UX 개선 기능**도 함께 제공합니다.

---

# 🔥 다음 포스트 예고

다음에는

- **로딩 중 상태를 사용자에게 보여주기**
    
- **React Router의 Pending UI 처리 방법**  
    을 살펴봅니다!
    

✅ 버튼을 눌렀을 때  
✅ 또는 링크를 클릭했을 때  
✅ **'로딩 중' 스피너**나 **피드백 메시지**를 보여주는 방법입니다.

---

# 🏁 마무리

> "loader는 페이지 렌더링보다 먼저,  
> 라우트 전환 시작과 동시에 실행된다."

이 동작 타이밍을 이해하면,  
더 매끄럽고 더 직관적인 사용자 경험(UX)을 제공할 수 있습니다. 🚀

---

**"좋아요! 그럼 바로 '로딩 중 상태 처리' 블로그 스타일로 이어서 정리해줘!"**  
라고 답주시면, 바로 자연스럽게 이어서 작성해드리겠습니다! 🎯

추가 요청사항도 언제든 알려주세요! ✨