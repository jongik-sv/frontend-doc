ì¢‹ìŠµë‹ˆë‹¤!  
ì´ë²ˆ ë‚´ìš©ë„ ìš”ì²­í•˜ì‹  ëŒ€ë¡œ **ë¸”ë¡œê·¸ ìŠ¤íƒ€ì¼**ë¡œ,  
**ëª…í™•í•œ íë¦„ê³¼ ì²´ê³„ì ì¸ ì •ë¦¬**ë¡œ ê¹”ë”í•˜ê²Œ ì‘ì„±í•´ë“œë¦´ê²Œìš”. âœï¸ğŸš€

---

# ğŸŒŸ [React Router ê³ ê¸‰í¸] loader í•¨ìˆ˜, ì–´ë””ì— ì‘ì„±í•´ì•¼ í• ê¹Œ? (App.js vs Page ì»´í¬ë„ŒíŠ¸)

## âœ¨ ë“¤ì–´ê°€ë©°

ì´ì œ ìš°ë¦¬ëŠ”  
ë¼ìš°íŠ¸ì— ì—°ê²°ëœ **loader() í•¨ìˆ˜**ë¥¼ í†µí•´  
ë°ì´í„°ë¥¼ ì‚¬ì „ì— ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ë ‡ê²Œ ì¤‘ìš”í•œ loader í•¨ìˆ˜ë¥¼  
**ì–´ë””ì— ì‘ì„±í•˜ëŠ” ê²Œ ê°€ì¥ ì¢‹ì€ êµ¬ì¡°ì¼ê¹Œìš”?**

ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ”  
**App.jsì— ì‘ì„±í•˜ëŠ” ê²½ìš°**ì™€  
**ê° Page ì»´í¬ë„ŒíŠ¸ì— ì‘ì„±í•˜ëŠ” ê²½ìš°**ë¥¼ ë¹„êµí•˜ê³ ,  
**ìµœì„ ì˜ êµ¬ì¡°í™” ë°©ë²•**ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

---

# ğŸš€ Step 1. ì²˜ìŒì—” App.jsì— ì‘ì„±í–ˆì—ˆë‹¤

ì²˜ìŒì— ìš°ë¦¬ëŠ” `App.js` íŒŒì¼ ì•ˆì—  
ë¼ìš°íŠ¸ ì •ì˜ì™€ loader í•¨ìˆ˜ë¥¼ **ëª¨ë‘** ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

**App.js ì˜ˆì‹œ**

```javascript
const router = createBrowserRouter([
  {
    path: '/events',
    element: <EventsPage />,
    loader: async function loader() {
      const response = await fetch('http://localhost:8080/events');
      if (!response.ok) {
        throw new Response('ì´ë²¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', { status: 500 });
      }
      const resData = await response.json();
      return resData.events;
    }
  }
]);
```

### ğŸ›‘ ë¬¸ì œì 

- **App.jsê°€ ì ì  ì»¤ì§**: ì—¬ëŸ¬ ë¼ìš°íŠ¸ê°€ ìˆì„ìˆ˜ë¡ fetch ì½”ë“œê°€ ê³„ì† ìŒ“ì…ë‹ˆë‹¤.
    
- **ì±…ì„ ë¶„ë¦¬ê°€ ì•ˆ ë¨**: App.jsê°€ ë°ì´í„° ë¡œë”©ê¹Œì§€ ì±…ì„ì§€ëŠ” ë¹„ëŒ€í•œ íŒŒì¼ì´ ë©ë‹ˆë‹¤.
    
- **ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§**: í•œ íŒŒì¼ì— ëª¨ë“  ë¡œì§ì´ ì„ì—¬ ìˆì–´ ìˆ˜ì •/ì¶”ì ì´ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.
    

---

# ğŸ›¤ï¸ Step 2. ê¶Œì¥ë˜ëŠ” êµ¬ì¡°: ê° í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— loader ì‘ì„±í•˜ê¸°

**ë” ì¢‹ì€ ë°©ë²•**ì€  
**ë°ì´í„°ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ì˜†ì— loaderë¥¼ ì‘ì„±**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì¦‰, **EventsPage.js** íŒŒì¼ ì•ˆì— loaderë¥¼ ë‘¡ë‹ˆë‹¤.

**EventsPage.js ì˜ˆì‹œ**

```javascript
import EventsList from '../components/EventsList';
import { useLoaderData } from 'react-router-dom';

function EventsPage() {
  const events = useLoaderData();
  return <EventsList events={events} />;
}

export default EventsPage;

// ì—¬ê¸°ì— loader ì¶”ê°€
export async function loader() {
  const response = await fetch('http://localhost:8080/events');
  if (!response.ok) {
    throw new Response('ì´ë²¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', { status: 500 });
  }
  const resData = await response.json();
  return resData.events;
}
```

âœ… **ì»´í¬ë„ŒíŠ¸ì™€ ê´€ë ¨ëœ ë°ì´í„° ë¡œì§ì´ í•œ íŒŒì¼ì—**  
âœ… **ê´€ë¦¬/ì´í•´/ìœ ì§€ë³´ìˆ˜ í¸ë¦¬**

---

# ğŸ§© Step 3. App.jsëŠ” ê°„ë‹¨íˆ loaderë¥¼ importí•´ì„œ ì—°ê²°ë§Œ

**App.js**

```javascript
import EventsPage, { loader as eventsLoader } from './pages/Events';

const router = createBrowserRouter([
  {
    path: '/events',
    element: <EventsPage />,
    loader: eventsLoader
  }
]);
```

âœ… App.jsëŠ” **ë¼ìš°íŠ¸ ì„¤ì •ë§Œ ë‹´ë‹¹**  
âœ… ë°ì´í„° íŒ¨ì¹­, ì—ëŸ¬ ì²˜ë¦¬ ë“±ì€ **ê°œë³„ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì„**

---

# ğŸ¯ Step 4. ì™œ ì´ë ‡ê²Œ êµ¬ì¡°í™”í•´ì•¼ í• ê¹Œ?

|í•­ëª©|ì„¤ëª…|
|:--|:--|
|ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)|App.jsëŠ” 'ë¼ìš°íŒ…'ë§Œ, í˜ì´ì§€ íŒŒì¼ì€ 'ë°ì´í„°+UI' ë‹´ë‹¹|
|ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ|ë°ì´í„° ìš”ì²­ ìˆ˜ì •ì´ í•„ìš”í•´ë„ í•´ë‹¹ í˜ì´ì§€ íŒŒì¼ë§Œ ì—´ë©´ ë¨|
|ì½”ë“œ ì½ê¸° ì‰¬ì›€|ì–´ë””ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ëª…í™•í•˜ê²Œ êµ¬ë¶„|
|í™•ì¥ì„± í™•ë³´|í˜ì´ì§€ê°€ ë§ì•„ì ¸ë„ App.jsëŠ” ë³µì¡í•´ì§€ì§€ ì•ŠìŒ|
|í˜‘ì—… íš¨ìœ¨ ì¦ê°€|ì—¬ëŸ¬ ê°œë°œìê°€ ì„œë¡œ ì¶©ëŒ ì—†ì´ ì‘ì—… ê°€ëŠ¥|

---

# ğŸ§  Step 5. loader ì´ë¦„ì€ ììœ ë¡­ê²Œ

```javascript
export async function eventsLoader() { ... }
```

ì²˜ëŸ¼  
loader í•¨ìˆ˜ ì´ë¦„ì„ ììœ ë¡­ê²Œ ì •í•˜ê³ ,  
App.jsì—ì„œëŠ” í•„ìš”í•œ ëŒ€ë¡œ `import { loader as eventsLoader }`ì²˜ëŸ¼ ë³„ì¹­(alias)ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âœ… ì´ë¦„ ì¶©ëŒ ë°©ì§€  
âœ… ê°€ë…ì„± í–¥ìƒ

---

# ğŸ ë§ˆë¬´ë¦¬

> "ì½”ë“œëŠ” í•„ìš”í•  ë•Œ í•„ìš”í•œ ê³³ì— ë†“ì•„ë¼."

**loader í•¨ìˆ˜ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤.**  
**ë°ì´í„°ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ ì•ˆì— ì‘ì„±í•˜ëŠ” ê²ƒì´ í˜„ëŒ€ì ì¸ íŒ¨í„´**ì…ë‹ˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´

- í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì ¸ë„ ê´€ë¦¬ê°€ ì‰¬ì›Œì§€ê³ 
    
- ì½”ë“œ í’ˆì§ˆë„ ìì—°ìŠ¤ëŸ½ê²Œ ì˜¬ë¼ê°€ê²Œ ë©ë‹ˆë‹¤! ğŸš€
    

---

# ğŸ”¥ ë‹¤ìŒ í¬ìŠ¤íŠ¸ ì˜ˆê³ 

ë‹¤ìŒì—ëŠ”

- **ë¡œë”© ì¤‘ (Pending) ìƒíƒœ ì²˜ë¦¬í•˜ê¸°**
    
- **ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬í•˜ê¸° (ErrorElement í™œìš©)**  
    ë¥¼ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.
    

---

**"ë¡œë”© ìƒíƒœ ì²˜ë¦¬ë¶€í„° ì´ì–´ì„œ ì •ë¦¬í•´ì¤˜!"**  
ë¼ê³  ë‹µì£¼ì‹œë©´,  
ë°”ë¡œ ì´ì–´ì„œ ì¹œì ˆí•˜ê³  ê¹”ë”í•œ ë¸”ë¡œê·¸ ìŠ¤íƒ€ì¼ë¡œ ê³„ì† ì •ë¦¬í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! âœ¨

ì¶”ê°€ ìš”ì²­ë„ ì–¸ì œë“  ë§ì”€í•´ì£¼ì„¸ìš”! ğŸ¯ğŸš€