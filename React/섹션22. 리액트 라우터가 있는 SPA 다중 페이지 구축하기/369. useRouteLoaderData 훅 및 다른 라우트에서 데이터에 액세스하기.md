ì•„ì£¼ í›Œë¥­í•œ ì§„í–‰ì…ë‹ˆë‹¤! ğŸ‰  
ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” **ë™ì¼í•œ ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë¼ìš°íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•˜ëŠ” ê³ ê¸‰ íŒ¨í„´**ì„ ë°°ì› ìŠµë‹ˆë‹¤.  
ì•„ë˜ì— ìš”ì ê³¼ ì½”ë“œ íë¦„, ì¶”ì²œ êµ¬ì¡°ë¥¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ ë“œë¦´ê²Œìš”.

---

## ğŸ¯ í•µì‹¬ ìš”ì•½: ê³µí†µ loaderë¡œ ì—¬ëŸ¬ ë¼ìš°íŠ¸ì—ì„œ ë™ì¼ ë°ì´í„° ì‚¬ìš©í•˜ê¸°

### âœ… ë¬¸ì œ

- `/events/:eventId` (ìƒì„¸ ë³´ê¸°)
    
- `/events/:eventId/edit` (í¸ì§‘)
    

ğŸ‘‰ ë‘ í˜ì´ì§€ ëª¨ë‘ **ê°™ì€ ì´ë²¤íŠ¸ ë°ì´í„°**ê°€ í•„ìš”í•©ë‹ˆë‹¤.  
ê·¸ëŸ°ë° ê°ê° loaderë¥¼ ë§Œë“¤ë©´ ì¤‘ë³µë˜ê² ì£ ?

---

## ğŸ› ï¸ í•´ê²°ì±…: ì¤‘ì²© ë¼ìš°íŠ¸ + ê³µí†µ loader + `useRouteLoaderData`

### 1. **ê³µí†µ ë¶€ëª¨ ë¼ìš°íŠ¸ ìƒì„±**

ë¼ìš°íŠ¸ íŠ¸ë¦¬ì—ì„œ ì¤‘ì²© êµ¬ì¡°ë¡œ ë§Œë“­ë‹ˆë‹¤.

```jsx
{
	path: ':eventId',
	loader: eventDetailLoader,
	children: [
	  {
		index: true,
		element: <EventDetailPage />,
	  },
	  { path: 'edit', element: <EditEventPage /> },
	],
  },
```

- ì´ `:eventId` ë¼ìš°íŠ¸ëŠ” **element ì—†ì´ loaderë§Œ ê°€ì§**
    
- ê·¸ ì•„ë˜ ë‘ í˜ì´ì§€ê°€ loader ë°ì´í„°ë¥¼ ê³µìœ 
    

---

### 2. **ê³µí†µ loader í•¨ìˆ˜**

ì´ë²¤íŠ¸ í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```js
export async function eventDetailLoader({ params }) {
  const response = await fetch(`http://localhost:8080/events/${params.eventId}`);

  if (!response.ok) {
    throw json(
      { message: 'ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.' },
      { status: 500 }
    );
  }

  const data = await response.json();
  return data;
}
```

---

### 3. **ìì‹ í˜ì´ì§€ì—ì„œ ë°ì´í„° ì‚¬ìš©í•˜ëŠ” ë²•**

#### âœ… ìƒì„¸ í˜ì´ì§€ (EventDetailPage)

```js
import { useRouteLoaderData } from 'react-router-dom';

const data = useRouteLoaderData('event-detail');
<EventItem event={data.event} />
```

#### âœ… í¸ì§‘ í˜ì´ì§€ (EditEventPage)

```js
import { useRouteLoaderData } from 'react-router-dom';

const data = useRouteLoaderData('event-detail');
<EventForm event={data.event} />
```

**ì™œ useLoaderData()ê°€ ì•„ë‹Œê°€ìš”?**  
ğŸ“Œ `useLoaderData()`ëŠ” **ìì‹ ì˜ ë¼ìš°íŠ¸ì—ë§Œ ì—°ê²°ëœ loader** ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.  
ğŸ“Œ `useRouteLoaderData('route-id')`ëŠ” **ë‹¤ë¥¸ ë¼ìš°íŠ¸ì˜ loader**ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ê°€ëŠ¥!

---

### 4. `useRouteLoaderData()` ë¥¼ ì“°ê¸° ìœ„í•œ ì¡°ê±´

- ë°˜ë“œì‹œ ë¼ìš°íŠ¸ì— `id` ì†ì„±ì„ ì§€ì •í•´ì•¼ í•¨
    
- ê·¸ `id`ë¥¼ `useRouteLoaderData('í•´ë‹¹-id')`ë¡œ ì°¸ì¡°í•´ì•¼ í•¨
    

---

## ğŸ’¡ ë¦¬íŒ©í† ë§ íš¨ê³¼

|Before (ë¹„íš¨ìœ¨)|After (ìµœì í™”)|
|---|---|
|ê° í˜ì´ì§€ì— ì¤‘ë³µ loader ìˆìŒ|í•˜ë‚˜ì˜ ê³µí†µ loaderë§Œ ì‚¬ìš©|
|ë°ì´í„° ì¤‘ë³µ ìš”ì²­ ê°€ëŠ¥ì„± ìˆìŒ|ìºì‹œ ì¬í™œìš© (ë¼ìš°í„°ê°€ ì•Œì•„ì„œ ìµœì í™”í•¨)|
|loader ì‚¬ìš© ì•ˆ í•˜ë©´ useEffect í•„ìš”|ì „í™˜ ì „ì— ìë™ ë¡œë”© + ì—ëŸ¬ ì²˜ë¦¬ í†µí•© ê°€ëŠ¥|

---

## âœ… ê²°ë¡ 

ì´ íŒ¨í„´ì€ React Routerì—ì„œ **ì¤‘ë³µëœ ë°ì´í„° ìš”ì²­ì„ ì¤„ì´ê³ , ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ëŠ” ê°€ì¥ í•µì‹¬ì ì¸ ë°©ë²• ì¤‘ í•˜ë‚˜**ì…ë‹ˆë‹¤.  
íŠ¹íˆ ìƒì„¸ ë³´ê¸°ì™€ í¸ì§‘ í˜ì´ì§€ì²˜ëŸ¼ **ê°™ì€ ë°ì´í„°ë¥¼ ì„œë¡œ ë‹¤ë¥¸ UIë¡œ ë³´ì—¬ì¤˜ì•¼ í•  ë•Œ** ë§¤ìš° ìœ ìš©í•˜ì£ .

---

### ğŸš€ ë‹¤ìŒì— ë°°ìš°ê²Œ ë  ì£¼ì œ

- ì´ í¼ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ **ì œì¶œ(submit)** í•˜ëŠ” ë°©ì‹
    
- `<Form />` ì»´í¬ë„ŒíŠ¸, `action()` í•¨ìˆ˜ í™œìš©
    
- ë¼ìš°íŒ… ê¸°ë°˜ í¼ ì²˜ë¦¬ì˜ ìµœì í™” íŒ¨í„´
    

---

ì›í•˜ì‹œë©´ ì§€ê¸ˆê¹Œì§€ êµ¬í˜„í•œ ì „ì²´ ë¼ìš°íŠ¸ êµ¬ì¡°ë‚˜ ì£¼ìš” íŒŒì¼ íŠ¸ë¦¬ë„ ì‹œê°í™”í•´ì„œ ë³´ì—¬ë“œë¦´ê²Œìš”.  
ê³„ì† ì§„í–‰í• ê¹Œìš”? ğŸ˜Š