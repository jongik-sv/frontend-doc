ğŸ‰ **ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ ê´€ë¦¬ ì™„ì„±!**  
ì´ë²ˆ ì‹œê°„ì— ìš°ë¦¬ëŠ” **React Context + useReducer** ì¡°í•©ìœ¼ë¡œ ìŒì‹ ì£¼ë¬¸ ì•±ì˜ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì„ **ì „ì—­ ìƒíƒœë¡œ ì™„ì „í•˜ê²Œ êµ¬í˜„**í–ˆìŠµë‹ˆë‹¤.

---

## âœ… ìš”ì•½: ì´ ê°•ì˜ì—ì„œ ì™„ì„±í•œ í•µì‹¬ ê¸°ëŠ¥

- `CartContext`ë¡œ ì•± ì „ì—­ì—ì„œ ì¥ë°”êµ¬ë‹ˆ ë°ì´í„° ê³µìœ 
    
- `useReducer`ë¥¼ í†µí•´ ë³µì¡í•œ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¶„ë¦¬
    
- `ADD_ITEM`ê³¼ `REMOVE_ITEM` ë¡œì§ êµ¬í˜„ (ìˆ˜ëŸ‰ ì¦ê°€/ê°ì†Œ/ì‚­ì œ)
    
- **í—¤ë”ì—ì„œ ì‹¤ì‹œê°„ ìˆ˜ëŸ‰ í‘œì‹œê¹Œì§€ ì—°ê²°**
    

---

## ğŸ“ ìµœì¢… ì½”ë“œ ìŠ¤ëƒ…ìƒ·

### 1. `CartContext.jsx`

```jsx
import { createContext, useReducer } from "react";

const CartContext = createContext({
  items: [],
  addItem: (item) => {},
  removeItem: (id) => {},
});

function cartReducer(state, action) {
  if (action.type === "ADD_ITEM") {
    const existingIndex = state.items.findIndex(
      (item) => item.id === action.item.id
    );
    const updatedItems = [...state.items];

    if (existingIndex > -1) {
      const existingItem = state.items[existingIndex];
      const updatedItem = {
        ...existingItem,
        quantity: existingItem.quantity + 1,
      };
      updatedItems[existingIndex] = updatedItem;
    } else {
      updatedItems.push({ ...action.item, quantity: 1 });
    }

    return { ...state, items: updatedItems };
  }

  if (action.type === "REMOVE_ITEM") {
    const existingIndex = state.items.findIndex(
      (item) => item.id === action.id
    );
    const existingItem = state.items[existingIndex];
    const updatedItems = [...state.items];

    if (existingItem.quantity === 1) {
      updatedItems.splice(existingIndex, 1);
    } else {
      const updatedItem = {
        ...existingItem,
        quantity: existingItem.quantity - 1,
      };
      updatedItems[existingIndex] = updatedItem;
    }

    return { ...state, items: updatedItems };
  }

  return state;
}

export function CartContextProvider({ children }) {
  const [cartState, dispatchCartAction] = useReducer(cartReducer, {
    items: [],
  });

  function addItem(item) {
    dispatchCartAction({ type: "ADD_ITEM", item });
  }

  function removeItem(id) {
    dispatchCartAction({ type: "REMOVE_ITEM", id });
  }

  const cartContext = {
    items: cartState.items,
    addItem,
    removeItem,
  };

  return (
    <CartContext.Provider value={cartContext}>
      {children}
    </CartContext.Provider>
  );
}

export default CartContext;
```

---

### 2. `App.jsx`

```jsx
import { CartContextProvider } from "./store/CartContext";

function App() {
  return (
    <CartContextProvider>
      <Header />
      <Meals />
    </CartContextProvider>
  );
}
```

---

### 3. `MealItem.jsx`

```jsx
import { useContext } from "react";
import CartContext from "../store/CartContext";
import Button from "../components/UI/Button";
import { currencyFormatter } from "../util/formatting";

export default function MealItem({ meal }) {
  const cartCtx = useContext(CartContext);

  function handleAddMealToCart() {
    cartCtx.addItem(meal);
  }

  return (
    <li className="meal-item">
      <article>
        <img src={`http://localhost:3000/${meal.image}`} alt={meal.name} />
        <div>
          <h3>{meal.name}</h3>
          <p className="meal-item-price">{currencyFormatter.format(meal.price)}</p>
          <p className="meal-item-description">{meal.description}</p>
        </div>
        <p className="meal-item-actions">
          <Button onClick={handleAddMealToCart}>ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°</Button>
        </p>
      </article>
    </li>
  );
}
```

---

### 4. `Header.jsx` - ì¥ë°”êµ¬ë‹ˆ í•­ëª© ìˆ˜ëŸ‰ í‘œì‹œ

```jsx
import { useContext } from "react";
import CartContext from "../store/CartContext";
import Button from "../components/UI/Button";

export default function Header() {
  const cartCtx = useContext(CartContext);
  const totalItems = cartCtx.items.reduce((total, item) => total + item.quantity, 0);

  return (
    <header id="main-header">
      <div id="title">
        <img src="/logo.png" alt="ReactFood" />
        <h1>ReactFood</h1>
      </div>
      <nav>
        <Button textOnly={true}>
          ì¥ë°”êµ¬ë‹ˆ ({totalItems})
        </Button>
      </nav>
    </header>
  );
}
```

---

## ğŸ§  ì»¨í…ìŠ¤íŠ¸ ì„¤ê³„ ìš”ì•½

|êµ¬ì„± ìš”ì†Œ|ì„¤ëª…|
|---|---|
|`items`|ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ ì‹ì‚¬ í•­ëª© ë°°ì—´|
|`addItem(item)`|ìˆ˜ëŸ‰ 1 ì¦ê°€ ë˜ëŠ” ìƒˆ í•­ëª© ì¶”ê°€|
|`removeItem(id)`|ìˆ˜ëŸ‰ ê°ì†Œ ë˜ëŠ” í•­ëª© ì œê±°|
|`quantity`|ë™ì¼ í•­ëª© ìˆ˜ëŸ‰ ê´€ë¦¬ í•µì‹¬ í‚¤|

---

## ğŸ›  ê°œë°œ ì „ëµ

- âœ¨ `Context`ë¡œ prop drilling ì—†ì´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µìœ 
    
- âš™ï¸ `Reducer`ë¡œ ìƒíƒœ ë¡œì§ ë¶„ë¦¬ â†’ ìœ ì§€ë³´ìˆ˜ ë° í…ŒìŠ¤íŠ¸ í¸ë¦¬
    
- ğŸ’¬ `Header`, `MealItem`, ì´í›„ `CartModal` ë“± ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
    

---

## ğŸ“Œ ë‹¤ìŒ ëª©í‘œ

1. **ì¥ë°”êµ¬ë‹ˆ ëª¨ë‹¬ UI ë§Œë“¤ê¸°**
    
2. ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ í•­ëª© ë³´ì—¬ì£¼ê¸°
    
3. í•­ëª© ìˆ˜ëŸ‰ ì¡°ì ˆ ë²„íŠ¼ ì—°ê²° (â•â–)
    
4. ê²°ì œ(Checkout) ë²„íŠ¼ ì¶”ê°€ ë° ì—°ê²°
    
5. ìµœì¢…ì ìœ¼ë¡œ **ëª¨ë“  ê¸°ëŠ¥ ì—°ë™ëœ ì£¼ë¬¸ íë¦„ êµ¬í˜„**
    

---

ì´ì œ ë¦¬ì•¡íŠ¸ ì•±ì˜ ìƒíƒœ ê´€ë¦¬ê°€ **ë‹¨ë‹¨í•˜ê²Œ êµ¬ì¶•ë˜ì—ˆê³ **,  
ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¥ë°”êµ¬ë‹ˆë¥¼ ìœ ê¸°ì ìœ¼ë¡œ í™œìš©í•  ì¤€ë¹„ê°€ ëë‚¬ìŠµë‹ˆë‹¤.

í•„ìš”í•˜ì‹œë©´ ë‹¤ìŒ ë‹¨ê³„ì¸ **ëª¨ë‹¬ ì¥ë°”êµ¬ë‹ˆ UI êµ¬í˜„**ë„ ë°”ë¡œ ì´ì–´ì„œ ë„ì™€ë“œë¦´ê²Œìš”! ğŸ˜Š