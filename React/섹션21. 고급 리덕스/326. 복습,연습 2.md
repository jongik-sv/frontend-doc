ì¢‹ìŠµë‹ˆë‹¤! ì§€ê¸ˆê¹Œì§€ ì •ë¦¬ëœ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ **êµ¬í˜„ëœ ì£¼ìš” ê¸°ëŠ¥ë³„ë¡œ ì†ŒìŠ¤ ì½”ë“œ ë³€ê²½ì ì„ í•œëˆˆì— ë³´ê¸° ì‰½ê²Œ** ì •ë¦¬í•´ë“œë¦´ê²Œìš”. ê° ê¸°ëŠ¥ì— ë”°ë¼ ì–´ë–¤ íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆê³ , ì–´ë–¤ ì½”ë“œê°€ ì¶”ê°€/ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•´ì„œ ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

---

# âœ… Redux ê¸°ë°˜ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ êµ¬í˜„ ì •ë¦¬ + ì†ŒìŠ¤ ë³€ê²½ì 

---

## 1. ğŸ”§ Redux Slice íŒŒì¼ ìƒì„± ë° ì„¤ì •

### ğŸ“ `src/store/ui-slice.js`

```js
import { createSlice } from '@reduxjs/toolkit';

const uiSlice = createSlice({
  name: 'ui',
  initialState: { cartIsVisible: false },
  reducers: {
    toggle(state) {
      state.cartIsVisible = !state.cartIsVisible;
    },
  },
});

export const uiActions = uiSlice.actions;
export default uiSlice;
```

---

### ğŸ“ `src/store/cart-slice.js`

```js
import { createSlice } from '@reduxjs/toolkit';

const cartSlice = createSlice({
  name: 'cart',
  initialState: {
    items: [],
    totalQuantity: 0,
    totalAmount: 0,
  },
  reducers: {
    addItemToCart(state, action) {
      const newItem = action.payload;
      const existingItem = state.items.find(item => item.id === newItem.id);
      state.totalQuantity++;

      if (!existingItem) {
        state.items.push({
          id: newItem.id,
          price: newItem.price,
          quantity: 1,
          totalPrice: newItem.price,
          name: newItem.title,
        });
      } else {
        existingItem.quantity++;
        existingItem.totalPrice += newItem.price;
      }
    },
    removeItemFromCart(state, action) {
      const id = action.payload;
      const existingItem = state.items.find(item => item.id === id);
      state.totalQuantity--;

      if (existingItem.quantity === 1) {
        state.items = state.items.filter(item => item.id !== id);
      } else {
        existingItem.quantity--;
        existingItem.totalPrice -= existingItem.price;
      }
    },
  },
});

export const cartActions = cartSlice.actions;
export default cartSlice;
```

---

### ğŸ“ `src/store/index.js`

```js
import { configureStore } from '@reduxjs/toolkit';
import uiSlice from './ui-slice';
import cartSlice from './cart-slice';

const store = configureStore({
  reducer: {
    ui: uiSlice.reducer,
    cart: cartSlice.reducer,
  },
});

export default store;
```

---

## 2. ğŸ’¡ ìƒíƒœ ê¸°ë°˜ UI êµ¬í˜„

### ğŸ“ `src/index.js`

```js
import ReactDOM from 'react-dom/client';
import { Provider } from 'react-redux';
import store from './store/index';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <Provider store={store}>
    <App />
  </Provider>
);
```

---

### ğŸ“ `src/App.js`

```js
import { useSelector } from 'react-redux';
import Cart from './components/Cart/Cart';
import Layout from './components/Layout/Layout';
import Products from './components/Shop/Products';

function App() {
  const showCart = useSelector(state => state.ui.cartIsVisible);

  return (
    <Layout>
      {showCart && <Cart />}
      <Products />
    </Layout>
  );
}

export default App;
```

---

## 3. ğŸ§© UI ì»´í¬ë„ŒíŠ¸ ì—°ë™

### ğŸ“ `src/components/Cart/CartButton.js`

```js
import { useDispatch, useSelector } from 'react-redux';
import { uiActions } from '../../store/ui-slice';

function CartButton() {
  const dispatch = useDispatch();
  const cartQuantity = useSelector(state => state.cart.totalQuantity);

  const toggleCartHandler = () => {
    dispatch(uiActions.toggle());
  };

  return (
    <button onClick={toggleCartHandler}>
      <span>My Cart</span>
      <span className="badge">{cartQuantity}</span>
    </button>
  );
}

export default CartButton;
```

---

### ğŸ“ `src/components/Cart/Cart.js`

```js
import { useSelector } from 'react-redux';
import CartItem from './CartItem';

function Cart() {
  const cartItems = useSelector(state => state.cart.items);

  return (
    <section>
      <h2>Your Shopping Cart</h2>
      <ul>
        {cartItems.map(item => (
          <CartItem
            key={item.id}
            item={{
              id: item.id,
              title: item.name,
              quantity: item.quantity,
              total: item.totalPrice,
              price: item.price,
            }}
          />
        ))}
      </ul>
    </section>
  );
}

export default Cart;
```

---

### ğŸ“ `src/components/Cart/CartItem.js`

```js
import { useDispatch } from 'react-redux';
import { cartActions } from '../../store/cart-slice';

function CartItem({ item }) {
  const dispatch = useDispatch();

  const removeItemHandler = () => {
    dispatch(cartActions.removeItemFromCart(item.id));
  };

  const addItemHandler = () => {
    dispatch(cartActions.addItemToCart({
      id: item.id,
      title: item.title,
      price: item.price,
    }));
  };

  return (
    <li>
      <h2>{item.title}</h2>
      <div>
        <span>${item.total.toFixed(2)}</span>
        <span>({item.quantity} x ${item.price.toFixed(2)})</span>
      </div>
      <div>
        <button onClick={removeItemHandler}>-</button>
        <button onClick={addItemHandler}>+</button>
      </div>
    </li>
  );
}

export default CartItem;
```

---

### ğŸ“ `src/components/Shop/Products.js`

```js
import ProductItem from './ProductItem';

const DUMMY_PRODUCTS = [
  {
    id: 'p1',
    title: 'My First Book',
    price: 6,
    description: 'The first book I ever wrote',
  },
  {
    id: 'p2',
    title: 'My Second Book',
    price: 5,
    description: 'Another great book',
  },
];

function Products() {
  return (
    <section>
      <h2>Buy your favorite products</h2>
      <ul>
        {DUMMY_PRODUCTS.map(prod => (
          <ProductItem
            key={prod.id}
            id={prod.id}
            title={prod.title}
            price={prod.price}
            description={prod.description}
          />
        ))}
      </ul>
    </section>
  );
}

export default Products;
```

---

### ğŸ“ `src/components/Shop/ProductItem.js`

```js
import { useDispatch } from 'react-redux';
import { cartActions } from '../../store/cart-slice';

function ProductItem({ id, title, price, description }) {
  const dispatch = useDispatch();

  const addToCartHandler = () => {
    dispatch(cartActions.addItemToCart({
      id,
      title,
      price,
    }));
  };

  return (
    <li>
      <h2>{title}</h2>
      <p>${price}</p>
      <p>{description}</p>
      <button onClick={addToCartHandler}>Add to Cart</button>
    </li>
  );
}

export default ProductItem;
```

---

## âœ… ì •ë¦¬: êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥

|ê¸°ëŠ¥|êµ¬í˜„ ì—¬ë¶€|íŒŒì¼|
|---|---|---|
|ì¥ë°”êµ¬ë‹ˆ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€|âœ…|`ui-slice`, `CartButton.js`, `App.js`|
|ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€|âœ…|`ProductItem.js`, `cart-slice`|
|ìˆ˜ëŸ‰ì´ ë§ìœ¼ë©´ ìˆ˜ëŸ‰ ì¦ê°€|âœ…|`CartItem.js`, `cart-slice`|
|ìˆ˜ëŸ‰ì´ 1ì´ë©´ í•­ëª© ì œê±°|âœ…|`CartItem.js`, `cart-slice`|
|ì´ ìˆ˜ëŸ‰ ë°°ì§€ í‘œì‹œ|âœ…|`CartButton.js`|

---

ì›í•˜ì‹ ë‹¤ë©´ ì´í›„ì— **ë¹„ë™ê¸° í†µì‹  ì ìš© (Redux Thunk or createAsyncThunk)**, **ë¡œë”© ìƒíƒœ/ì•Œë¦¼ ê´€ë¦¬**, **ë°±ì—”ë“œ ì—°ë™ìš© HTTP ìš”ì²­ ê´€ë¦¬ íŒ¨í„´**ê¹Œì§€ ì •ë¦¬í•´ë“œë¦´ ìˆ˜ ìˆì–´ìš”.  
í•„ìš”í•˜ì‹œë©´ ë§ì”€ë§Œ ì£¼ì„¸ìš” ğŸ™Œ